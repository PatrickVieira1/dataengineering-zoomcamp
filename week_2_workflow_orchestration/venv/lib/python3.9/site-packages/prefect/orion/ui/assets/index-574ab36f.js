import{E as D,d as h,c as C,o as l,a as f,w as u,b as n,u as e,j as c,e as w,G as O,f as v,g as B,k as M,T as N,p as d,r as T,W as y,h as U,i as A,l as b,m as W,n as $,q as E,R as F,s as P,t as V,I as G,A as j,v as K,x as q,y as H,S as Q,z,D as J,B as X}from"./index-7b2fa3e3-fc9295f6.js";import{r as Y}from"./index-62fdc6b8.js";import{i as Z}from"./colorMode-fa991c78.js";import{r as i}from"./routes-ee02d8bc.js";import{U as g,A as ee}from"./ApiRoute-397f3bc7.js";import"./meta-26546594.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))_(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const p of s.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&_(p)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function _(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();const I=Symbol("canInjectionKey");function te(){return D(I)}const oe=h({__name:"ContextSidebar",setup(a){const t=te(),r=C(()=>t.access.workers&&t.read.worker_pool);return(_,o)=>(l(),f(e(O),{class:"context-sidebar"},{footer:u(()=>[n(e(c),{title:"Settings",icon:"CogIcon",to:e(i).settings()},null,8,["to"])]),default:u(()=>[n(e(c),{title:"Flow Runs",icon:"FlowRun",to:e(i).flowRuns()},null,8,["to"]),n(e(c),{title:"Flows",icon:"Flow",to:e(i).flows()},null,8,["to"]),n(e(c),{title:"Deployments",icon:"LocationMarkerIcon",to:e(i).deployments()},null,8,["to"]),e(r)?(l(),f(e(c),{key:0,title:"Workers",icon:"DatabaseIcon",to:e(i).workerPools()},null,8,["to"])):w("",!0),n(e(c),{title:"Work Queues",icon:"DatabaseIcon",to:e(i).workQueues()},null,8,["to"]),n(e(c),{title:"Blocks",icon:"CubeIcon",to:e(i).blocks()},null,8,["to"]),n(e(c),{title:"Notifications",icon:"BellIcon",to:e(i).notifications()},null,8,["to"]),n(e(c),{title:"Task Run Concurrency",icon:"Task",to:e(i).concurrencyLimits()},null,8,["to"])]),_:1}))}}),se={class:"app-router-view"},ne=h({__name:"AppRouterView",async setup(a){let t,r;const _=([t,r]=v(()=>g.get("apiUrl")),t=await t,r(),t),o=B({baseUrl:_}),s=([t,r]=v(()=>g.get("flags")),t=await t,r(),t),p=M([...N,...s]),x=j();d(I,p),d(P,p),d(V,o),d(G,x);const m=T(!1),k=C(()=>y.lg||m.value);function R(){m.value=!m.value}function L(){m.value=!1}return U(()=>document.body.classList.toggle("body-scrolling-disabled",k.value&&!y.lg)),(pe,fe)=>(l(),A("div",se,[e(y).lg?w("",!0):(l(),f(e(W),{key:0,class:"app-router-view__mobile-menu"},{"upper-links":u(()=>[n(e(b),{icon:"PrefectGradient",class:"app-router-view__prefect-icon"})]),"bottom-links":u(()=>[n(e(b),{icon:"MenuIcon",class:"app-router-view__menu-icon",onClick:R})]),_:1})),e(k)?(l(),f(oe,{key:1,class:"app-router-view__sidebar",onClick:L})):w("",!0),n(e(F),{class:"app-router-view__view"},{default:u(({Component:S})=>[n($,{name:"app-router-view-fade",mode:"out-in"},{default:u(()=>[(l(),f(E(S)))]),_:2},1024)]),_:1})]))}});class ae extends ee(q){}const re=K(new ae);async function ce(){try{await re.getHealth()}catch(a){const t=await g.get("apiUrl").then(r=>r);H(`Can't connect to Orion API at ${t}. Check that it's accessible from your machine.`,"error",{timeout:!1}),console.warn(a)}}const ie={class:"app","data-teleport-target":"app"},le=h({__name:"App",setup(a){return ce(),(t,r)=>(l(),A("div",ie,[(l(),f(Q,null,{default:u(()=>[n(ne)]),_:1}))]))}});Z();function ue(){const a=z(le);a.use(Y),a.use(J),a.use(X),a.mount("#app")}ue();
