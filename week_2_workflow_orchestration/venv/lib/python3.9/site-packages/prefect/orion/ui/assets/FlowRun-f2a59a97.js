import{d as N,r as S,af as D,c as t,U as L,V as P,ag as V,ah as W,ai as B,a as o,w as l,Y as f,Z as U,W as j,aj as A,o as n,u as e,ak as O,e as u,al as w,b as d,am as Q,an as Y,ao as Z,ap as $}from"./index-7b2fa3e3-fc9295f6.js";import{u as q}from"./usePageTitle-fb696d1b.js";import"./index-62fdc6b8.js";import{r as z}from"./routes-ee02d8bc.js";import"./meta-26546594.js";const X=N({__name:"FlowRun",setup(E){const i=U(),p=S("Logs"),c=D("flowRunId"),m=t(()=>{const s=["Logs","Task Runs","Subflow Runs","Parameters"];return j.xl||s.push("Details"),s}),_=L(),v=P(_.flowRuns.getFlowRun,[c],{interval:3e4}),a=t(()=>v.response),R=t(()=>{var s;return(s=a.value)==null?void 0:s.deploymentId}),y=V(R);W(c,(s,r)=>{s!==r&&(p.value="Logs")});const k=t(()=>{var s;return((s=a.value)==null?void 0:s.parameters)??{}}),b=t(()=>{var s;return((s=y.value)==null?void 0:s.parameterOpenApiSchema)??{}}),g=t(()=>A(k.value,b.value));function h(){i.push(z.flowRuns())}const F=t(()=>{var s;return(s=a.value)==null?void 0:s.stateType});B(F);const T=t(()=>a.value?`Flow Run: ${a.value.name}`:"Flow Run");return q(T),(s,r)=>{const x=f("p-tabs"),C=f("p-layout-well");return n(),o(C,{class:"flow-run"},{header:l(()=>[e(a)?(n(),o(e(O),{key:0,"flow-run-id":e(a).id,onDelete:h},null,8,["flow-run-id"])):u("",!0)]),well:l(()=>[e(a)?(n(),o(e(w),{key:0,"flow-run":e(a),alternate:""},null,8,["flow-run"])):u("",!0)]),default:l(()=>[d(x,{selected:p.value,"onUpdate:selected":r[0]||(r[0]=I=>p.value=I),tabs:e(m)},{details:l(()=>[e(a)?(n(),o(e(w),{key:0,"flow-run":e(a)},null,8,["flow-run"])):u("",!0)]),logs:l(()=>[e(a)?(n(),o(e(Q),{key:0,"flow-run":e(a)},null,8,["flow-run"])):u("",!0)]),"task-runs":l(()=>[e(a)?(n(),o(e(Y),{key:0,"flow-run-id":e(a).id},null,8,["flow-run-id"])):u("",!0)]),"subflow-runs":l(()=>[e(a)?(n(),o(e(Z),{key:0,"flow-run-id":e(a).id},null,8,["flow-run-id"])):u("",!0)]),parameters:l(()=>[d(e($),{value:e(g)},null,8,["value"])]),_:1},8,["selected","tabs"])]),_:1})}}});export{X as default};
