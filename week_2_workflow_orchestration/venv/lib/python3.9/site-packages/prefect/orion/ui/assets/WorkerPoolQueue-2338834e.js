import{d as N,U as g,af as w,V as m,c as a,aY as h,u as e,a as x,w as o,e as C,Y as n,W as U,o as V,b as r,bK as $,a_ as B,bL as i,bM as R,aD as D}from"./index-7b2fa3e3-fc9295f6.js";import{u as S}from"./usePageTitle-fb696d1b.js";const L=N({__name:"WorkerPoolQueue",setup(Y){const p=g(),u=w("workerPoolName"),t=w("workerPoolQueueName"),k={interval:3e5},c=m(p.workerPoolQueues.getWorkerPoolQueueByName,[u.value,t.value],k),s=a(()=>c.response),_=m(p.workerPoolWorkers.getWorkers,[u.value],k),f=a(()=>_.response??[]),d=a(()=>{var l;return((l=f.value[0])==null?void 0:l.name)??"<worker name>"}),P=a(()=>`prefect worker start --pool ${u.value} --name ${d.value} *--queue ${t.value}`),b=h({workerPoolQueueName:[t.value]}),v=a(()=>{const l=["Upcoming Runs","Runs"];return U.xl||l.unshift("Details"),l}),q=a(()=>t.value?`Worker Pool Queue: ${t.value}`:"Worker Pool Queue");return S(q),(l,F)=>{const y=n("p-tabs"),W=n("p-layout-well"),Q=n("p-layout-default");return e(s)?(V(),x(Q,{key:0,class:"worker-pool-queue"},{header:o(()=>[r(e($),{"worker-pool-queue":e(s),"worker-pool-name":e(u),onUpdate:e(c).refresh},null,8,["worker-pool-queue","worker-pool-name","onUpdate"])]),default:o(()=>[r(W,{class:"worker-pool-queue__body"},{header:o(()=>[r(e(B),{command:e(P),title:"Worker pool queue is ready to go!",subtitle:"Work queues are scoped to a specific work pool to ensure that the work put into a queue will only be picked up by a specific type of worker."},null,8,["command"])]),well:o(()=>[r(e(i),{alternate:"","worker-pool-name":e(u),"worker-pool-queue":e(s)},null,8,["worker-pool-name","worker-pool-queue"])]),default:o(()=>[r(y,{tabs:e(v)},{details:o(()=>[r(e(i),{"worker-pool-name":e(u),"worker-pool-queue":e(s)},null,8,["worker-pool-name","worker-pool-queue"])]),"upcoming-runs":o(()=>[r(e(R),{"worker-pool-name":e(u),"worker-pool-queue":e(s)},null,8,["worker-pool-name","worker-pool-queue"])]),runs:o(()=>[r(e(D),{"flow-run-filter":e(b)},null,8,["flow-run-filter"])]),_:1},8,["tabs"])]),_:1})]),_:1})):C("",!0)}}});export{L as default};
