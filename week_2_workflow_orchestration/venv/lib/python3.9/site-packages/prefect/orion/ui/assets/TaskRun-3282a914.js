import{d as h,af as y,U as x,c as e,as as c,ai as C,u as t,a as D,w as n,e as N,Y as p,Z as S,W,o as A,b as u,at as B,au as i,av as F,ap as V}from"./index-7b2fa3e3-fc9295f6.js";import{u as J}from"./usePageTitle-fb696d1b.js";import"./index-62fdc6b8.js";import{r as L}from"./routes-ee02d8bc.js";import"./meta-26546594.js";const q=h({__name:"TaskRun",setup(O){const k=S(),l=y("taskRunId"),r=x(),f=e(()=>{const s=["Logs","Task Inputs"];return W.xl||s.push("Details"),s}),R=e(()=>l.value?[l.value]:null),d=c(r.taskRuns.getTaskRun,R,{interval:3e4}),a=e(()=>d.response),o=e(()=>{var s;return(s=a.value)==null?void 0:s.flowRunId}),m=e(()=>o.value?[o.value]:null),v=c(r.flowRuns.getFlowRun,m),_=e(()=>{var s;return(s=a.value)!=null&&s.taskInputs?JSON.stringify(a.value.taskInputs,void 0,2):"{}"});function w(){v.refresh(),k.push(L.flowRun(o.value))}const g=e(()=>{var s;return(s=a.value)==null?void 0:s.stateType});C(g);const I=e(()=>a.value?`Task Run: ${a.value.name}`:"Task Run");return J(I),(s,P)=>{const T=p("p-tabs"),b=p("p-layout-well");return t(a)?(A(),D(b,{key:0,class:"task-run"},{header:n(()=>[u(t(B),{"task-run-id":t(a).id,onDelete:w},null,8,["task-run-id"])]),well:n(()=>[u(t(i),{alternate:"","task-run":t(a)},null,8,["task-run"])]),default:n(()=>[u(T,{tabs:t(f)},{details:n(()=>[u(t(i),{"task-run":t(a)},null,8,["task-run"])]),logs:n(()=>[u(t(F),{"task-run":t(a)},null,8,["task-run"])]),"task-inputs":n(()=>[u(t(V),{value:t(_)},null,8,["value"])]),_:1},8,["tabs"])]),_:1})):N("",!0)}}});export{q as default};
